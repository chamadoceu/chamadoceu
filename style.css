
:root{
  /* Paleta clara e premium */
  --bg:#fafafa; --panel:rgba(255,255,255,0.75);
  --brand:#6c63ff; --brand-2:#857dff;
  --ink:#2b2b2b; --muted:#777; --soft:#f2f2f2;
  --danger:#e74c3c; --ok:#27ae60;
  --line:rgba(0,0,0,.08);

  /* Sombras refinadas */
  --shadow-1:0 1px 2px rgba(0,0,0,.04);
  --shadow-2:0 3px 6px rgba(0,0,0,.06),0 1px 2px rgba(0,0,0,.04);
  --shadow-3:0 8px 20px rgba(0,0,0,.08),0 4px 8px rgba(0,0,0,.05);
  --shadow-glow:0 0 10px rgba(108,99,255,.18);

  /* Radius & spacings */
  --radius:14px;
  --space-1:4px; --space-2:8px; --space-3:12px; --space-4:16px; --space-6:24px;
  --font-sm:13px; --font-md:15px; --font-lg:18px; --font-xl:24px;
}

*{box-sizing:border-box}
body{
  margin:0;
  background:var(--bg);
  color:var(--ink);
  font:var(--font-md)/1.5 "Inter",system-ui,Segoe UI,Roboto,Arial,sans-serif;
  -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
}

/* Topbar */
.topbar{
  height:64px;display:flex;align-items:center;justify-content:space-between;
  padding:0 var(--space-4);
  background:rgba(255,255,255,.7);
  backdrop-filter:blur(12px);
  border-bottom:1px solid var(--line);
  position:sticky;top:0;z-index:10;
}
.brand{display:flex;align-items:center;gap:var(--space-2);font-weight:600;color:var(--ink);}
.brand .logo{width:34px;height:34px;border-radius:50%;object-fit:cover;
  box-shadow:var(--shadow-glow);}

/* Layout */
.layout{display:grid;grid-template-columns:220px 1fr;min-height:calc(100vh - 64px);}
.sidebar{padding:var(--space-4);background:#fff;border-right:1px solid var(--line);}

/* Menu */
.menu h4{margin:6px 10px 12px;color:var(--muted);font-weight:600;font-size:var(--font-sm)}
.menu button{
  display:flex;align-items:center;gap:var(--space-2);width:100%;
  padding:10px 12px;margin-bottom:var(--space-2);
  background:#fff;border:1px solid #eee;border-radius:10px;
  cursor:pointer;color:var(--ink);font-weight:500;
  transition:all .2s ease;
  box-shadow:var(--shadow-1);
}
.menu button:hover{background:#f5f4ff;box-shadow:var(--shadow-2);}
.menu button.active{
  background:linear-gradient(135deg,var(--brand),var(--brand-2));
  color:#fff;font-weight:600;border:none;
  box-shadow:var(--shadow-glow);
}

/* Content */
.content{padding:var(--space-6)}
.screen{display:none;}
.screen.active{display:block;animation:fadeIn .25s ease;}
@keyframes fadeIn{from{opacity:0;}to{opacity:1;}}

/* Panels */
.panel{
  background:var(--panel);
  backdrop-filter:blur(16px);
  border:1px solid var(--line);
  border-radius:var(--radius);
  box-shadow:var(--shadow-2);
  margin-bottom:var(--space-4);
  padding:var(--space-4);
}
.panel-header{
  margin-bottom: 16px;
  padding-bottom: 6px;
  border-bottom: 1px solid rgba(0,0,0,.05);
  font-weight: 700;
  font-size: clamp(20px, 2vw, 24px);
  color: #111;
  letter-spacing: .005em;

}

/* KPIs */
.kpi-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:var(--space-4)}
.kpi{
  padding:var(--space-4);border-radius:var(--radius);
  color:#1f2a36;font-weight:600;
  background:#fff;box-shadow:var(--shadow-1);
}
.kpi .value{font-size:var(--font-xl);margin-top:var(--space-1);}
.kpi.fat{background:linear-gradient(135deg,#e0f7fa,#fff);}
.kpi.lucro{background:linear-gradient(135deg,#e8f5e9,#fff);}
.kpi.markup{background:linear-gradient(135deg,#fff3e0,#fff);}
.kpi.vendas{background:linear-gradient(135deg,#f3e5f5,#fff);}
.hidden-val{filter:blur(6px)}

/* Tables */
table{width:100%;border-collapse:collapse;color:var(--ink)}
th,td{padding:var(--space-2);text-align:left;border-bottom:1px solid var(--line)}
th{font-size:var(--font-sm);color:var(--muted);text-transform:uppercase;letter-spacing:.04em}
tbody tr:hover{background:rgba(108,99,255,.05);}

/* Toast */
.toast{
  position:fixed;bottom:var(--space-4);right:var(--space-4);
  background:#fff;color:var(--ink);padding:12px 16px;
  border-radius:var(--radius);opacity:0;transform:translateY(10px);
  transition:all .25s;z-index:100;
  box-shadow:var(--shadow-3);
}
.toast.show{opacity:1;transform:translateY(0);}

/* Charts */
.charts-row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--space-4);
  align-items: stretch;
  margin-bottom: calc(var(--space-2) * 2); /* mais distância abaixo dos gráficos */
}
.chart-card{
  background:var(--panel);
  backdrop-filter:blur(14px);
  border:1px solid var(--line);
  border-radius:var(--radius);
  box-shadow:var(--shadow-1);
  transition:box-shadow .2s ease;
}
.chart-card:hover{box-shadow:var(--shadow-2);}
.chart-wrap{padding:var(--space-3);height:260px}
.chart-wrap canvas{width:100% !important;height:100% !important}
@media(max-width:960px){
  .charts-row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--space-4);
  align-items: stretch;
  margin-bottom: calc(var(--space-6) * 2); /* mais distância abaixo dos gráficos */
}
}

/* Forms */
.grid{display:grid;gap:var(--space-3)}
.cols-3{grid-template-columns:repeat(3,1fr)}
.cols-2{grid-template-columns:repeat(2,1fr)}
.row{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-3)}
.field{display:flex;flex-direction:column;gap:var(--space-2)}
.field label{font-weight:500;color:var(--muted)}
.field input,.field select{
  padding:10px;border:1px solid var(--line);border-radius:10px;
  background:#fff;color:var(--ink);
  transition:border-color .2s, box-shadow .2s;
}
.field input:focus,.field select:focus{
  border-color:var(--brand);
  box-shadow:0 0 0 3px rgba(108,99,255,.2);
  outline:none;
}

/* Buttons refinados */
.btn{
  padding:10px 16px;border-radius:10px;
  border:1px solid #ddd;background:#fff;cursor:pointer;
  font-weight:500;color:var(--ink);
  transition:all .2s ease;
}
.btn:hover{box-shadow:var(--shadow-2);border-color:var(--brand-2);}
.btn.primary{background:#fff;color:var(--brand);border:1px solid var(--brand);}
.btn.primary:hover{background:var(--brand);color:#fff;box-shadow:var(--shadow-glow);}
.btn.danger{
  background:#fff;
  color:var(--danger);
  border:1px solid var(--danger);
  transition:all .25s ease;
}
.btn.danger:hover{
  background:var(--danger);
  color:#fff;
  box-shadow:0 4px 12px rgba(231,76,60,.25);
}
.btn.danger:active{
  background:#c0392b;
  border-color:#c0392b;
}
.btn.ghost{background:#f4f4f4;color:var(--ink);border:none}
.btn:disabled{opacity:.5;cursor:not-allowed;box-shadow:none}

/* Tag */
.tag{display:inline-block;padding:3px 10px;border-radius:999px;background:#f0eef9;
  color:var(--brand);font-size:var(--font-sm);font-weight:600}

/* Utilities */
.flex{display:flex;align-items:center;gap:var(--space-2)}
.center{display:flex;justify-content:center;align-items:center}
.text-right{text-align:right}
.text-muted{color:var(--muted)}
.hidden{display:none !important}

/* Acessibilidade */
.btn:focus-visible,
.menu button:focus-visible,
a:focus-visible{outline:2px solid var(--brand);outline-offset:2px;
  box-shadow:0 0 0 2px rgba(108,99,255,.25)}
@media(prefers-reduced-motion:reduce){
  *{animation:none !important;transition:none !important}
}


/* Rodapé fixo e padronizado */
.footer {
  text-align: center;
  padding: 20px;
  font-size: 0.9em;
  color: #666;
  background: var(--panel);
  margin-top: var(--space-4);
  border-top: 1px solid var(--line);
}


/* Ações (botões dos formulários) */
.actions {
  display: flex;
  flex-wrap: wrap;          /* evita quebrar layout em telas pequenas */
  gap: var(--space-3);      /* espaço horizontal/vertical entre botões */
  margin-top: var(--space-4); 
}

.actions .btn {
  min-width: 120px;         /* todos os botões mais consistentes */
}


/* === Correções de estilo para alinhar com o HTML/JS === */

/* 1) Footer no HTML usa <footer> (sem classe). Aplicar o mesmo estilo do .footer */
footer {
  text-align: center;
  padding: 20px;
  font-size: 0.9em;
  color: #666;
  background: var(--panel);
  margin-top: var(--space-4);
  border-top: 1px solid var(--line);
}

/* 2) Tabelas usam <th class="right"> e botões/ações em <td class="right"> */
.right { text-align: right; }

/* 3) Variante de botão usada no JS: .btn.outline */
.btn.outline{
  background:#fff;
  border:1px dashed var(--line);
  color:var(--ink);
}
.btn.outline:hover{
  border-color: var(--brand);
  box-shadow: var(--shadow-2);
}

/* 4) Grid usada nas Configurações (.cfg-grid) */
.cfg-grid{
  display:grid;
  gap: var(--space-3);
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  align-items: start;
}

/* 5) Mensagens vazias (.empty) */
.empty{
  padding: 14px;
  color: var(--muted);
  font-style: italic;
}

/* 6) Esconder input de arquivo e usar o <label for="inp-import"> como botão */
#inp-import{ display:none; }

/* 7) Melhorar responsividade: colapsar sidebar em telas estreitas */
@media (max-width: 800px){
  .layout{ grid-template-columns: 1fr; }
  .sidebar{ position:sticky; top:64px; z-index:5; }
}

/* 8) Alinhar células numéricas à direita quando necessário */
th.text-right, td.text-right { text-align: right; }

/* 9) Ajustar .panel-body espaçamento padrão (caso ausente) */
.panel-body{ gap: var(--space-3); }


/* 10) Formulário de receita escondido por padrão */
#form-receita{ display:none; }

/* 11) Outros formulários escondidos por padrão */
#form-receita,
#form-insumo,
#form-producao,
#form-estoque,
#form-venda,
#form-revendedor {
  display: none;
}

/* 12) Formulários de edição escondidos por padrão */
.edit-form { display:none; }

/* 13) Botão "Cancelar Edição" em Receitas começa escondido */


/* 14) Botão "Cancelar Edição" em Insumos começa escondido */


/* 15) Botões "Cancelar Edição" começam escondidos (Receitas e Insumos) */
/* Removido: o JS controla exibição com a classe .hide */

/* 16) Sistema de visibilidade usando classes show/hide */
.hide { display: none !important; }
.show { display: inline-block !important; }

/* Botões Cancelar começam escondidos */
/* Removido: o JS controla exibição com a classe .hide */
/* === Login Page (igual ao dashboard) === */
body.center {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  background: var(--bg); /* fundo igual ao dash */
  padding: var(--space-6);
}

/* Caixa de login */
.login-card {
  margin: auto; /* garante centralização sem empurrar o footer */
  width: 360px;
  text-align: center;
  padding: var(--space-6);
  background: #fff; /* sólido, destaca no fundo claro */
  border: 1px solid var(--line);
  border-radius: var(--radius);
  box-shadow: var(--shadow-3);
  animation: fadeIn .6s ease;
}

/* Logo */
.login-logo {
  width: 84px;
  height: 84px;
  border-radius: 50%;
  object-fit: cover;
  background: #fff;
  padding: 6px;
  margin-bottom: var(--space-3);
}

/* Título e subtítulo */
.login-card h2 {
  margin-top: var(--space-2);
  margin-bottom: var(--space-1);
}

.login-card .subtitle {
  font-size: var(--font-sm);
  color: var(--muted);
  margin-bottom: var(--space-4);
}

/* Mensagens de erro */
.erro-msg {
  margin-top: var(--space-2);
  font-size: var(--font-sm);
  color: var(--danger) !important;
  min-height: 20px;
}


/* ================= MOBILE OPTIMIZATIONS ================= */

/* Sidebar colapsável no mobile */
@media (max-width: 800px){
  .layout{ grid-template-columns: 1fr; }
  .sidebar{ 
    position: fixed; 
    top: 64px; 
    left: -100%; 
    width: 220px;
    height: 100%; 
    background: #fff; 
    transition: left .3s ease;
    z-index: 1000;
  }
  .sidebar.show{ left: 0; }
}

/* Tabelas com rolagem horizontal */
.table-wrap{ overflow-x: auto; }
table{ min-width: 600px; }

/* Forms em coluna única no mobile */
@media(max-width: 600px){
  .cols-2, .cols-3, .row{ grid-template-columns: 1fr !important; }
}

/* Botões mais amigáveis para touch */
@media(max-width: 600px){
  .btn{ 
    padding: 14px 18px; 
    font-size: var(--font-lg); 
    min-height: 48px;
  }
}

/* KPIs e charts ajustados em mobile */
@media(max-width: 500px){
  .kpi-grid{ grid-template-columns: 1fr; }
  .charts-row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--space-4);
  align-items: stretch;
  margin-bottom: calc(var(--space-6) * 2); /* mais distância abaixo dos gráficos */
}
}

/* --- Ajuste final: títulos dos gráficos iguais ao Dashboard --- */
.chart-card .panel-header {
  display: block;
  margin: 0;
  padding: 16px;
  padding-bottom: 6px;
  border-bottom: 1px solid rgba(0,0,0,.05);
  font-weight: 700;
  font-size: clamp(20px, 2vw, 24px);
  color: #111;
  letter-spacing: .005em;
}

.chart-wrap {
  padding: var(--space-3);
  padding-top: 0;   /* evita espaçamento duplicado com o título */
  height: 260px;
}


/* Footer na página de login (index) */
body.center footer {
  background: transparent;   /* sem fundo */
  border-top: none;          /* remove a linha superior */
  color: var(--muted);       /* texto mais discreto */
}
